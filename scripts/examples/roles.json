{
  "_comment": "Role-Based User Provisioning Template",
  "_description": "Define roles once, assign them to multiple users",
  "_usage": "sudo ./user.sh --apply-roles examples/roles.json",
  
  "roles": {
    "developer": {
      "groups": ["developers", "git", "docker"],
      "shell": "/bin/bash",
      "password_expiry_days": 90,
      "description": "Software developers with code repository and container access"
    },
    
    "senior_developer": {
      "groups": ["developers", "git", "docker", "deploy"],
      "shell": "/bin/bash",
      "password_expiry_days": 60,
      "description": "Senior developers with deployment permissions"
    },
    
    "devops": {
      "groups": ["developers", "deploy", "sudo", "docker"],
      "shell": "/bin/bash",
      "password_expiry_days": 30,
      "description": "DevOps engineers with full system access"
    },
    
    "qa_tester": {
      "groups": ["testers", "qa"],
      "shell": "/bin/bash",
      "password_expiry_days": 90,
      "description": "QA testers with test environment access"
    },
    
    "project_manager": {
      "groups": ["managers", "viewers"],
      "shell": "/bin/bash",
      "password_expiry_days": 90,
      "description": "Project managers with read-only access"
    },
    
    "contractor": {
      "groups": ["contractors", "viewers"],
      "shell": "/bin/bash",
      "password_expiry_days": 30,
      "description": "Temporary contractors with limited access"
    },
    
    "intern": {
      "groups": ["interns", "viewers"],
      "shell": "/bin/bash",
      "password_expiry_days": 60,
      "description": "Interns with supervised access"
    },
    
    "readonly": {
      "groups": ["viewers"],
      "shell": "/bin/bash",
      "password_expiry_days": 90,
      "description": "Read-only users for monitoring and reporting"
    },
    
    "service_account": {
      "groups": ["services"],
      "shell": "/sbin/nologin",
      "password_expiry_days": 99999,
      "description": "Service accounts for applications"
    }
  },
  
  "assignments": [
    {
      "username": "alice",
      "role": "senior_developer"
    },
    {
      "username": "bob",
      "role": "qa_tester"
    },
    {
      "username": "charlie",
      "role": "devops"
    },
    {
      "username": "diana",
      "role": "project_manager"
    },
    {
      "username": "eve",
      "role": "developer"
    },
    {
      "username": "frank",
      "role": "contractor"
    },
    {
      "username": "grace",
      "role": "intern"
    },
    {
      "username": "svc_api",
      "role": "service_account"
    }
  ],
  
  "_field_definitions": {
    "roles": {
      "role_name": "Unique identifier for the role",
      "groups": "Array of Linux groups to assign",
      "shell": "Login shell path",
      "password_expiry_days": "Days until password must be changed",
      "description": "Human-readable description (not used by system)"
    },
    "assignments": {
      "username": "User to create/update (created if doesn't exist)",
      "role": "Role name from roles section to apply"
    }
  },
  
  "_workflow": [
    "1. Define your organization's roles in the 'roles' section",
    "2. List users and their assigned roles in 'assignments' section",
    "3. Run: sudo ./user.sh --apply-roles roles.json",
    "4. Users will be created with their role's settings applied",
    "5. Existing users will be updated with new role settings"
  ],
  
  "_examples": {
    "create_new_role": {
      "data_analyst": {
        "groups": ["analysts", "data", "viewers"],
        "shell": "/bin/bash",
        "password_expiry_days": 90,
        "description": "Data analysts with database read access"
      }
    },
    "assign_existing_user": {
      "username": "john",
      "role": "data_analyst"
    },
    "assign_multiple_users_same_role": [
      {"username": "user1", "role": "developer"},
      {"username": "user2", "role": "developer"},
      {"username": "user3", "role": "developer"}
    ]
  },
  
  "_best_practices": [
    "Define roles that match your organizational structure",
    "Use consistent naming conventions (lowercase, underscores)",
    "Stricter password expiry for privileged roles (devops: 30 days)",
    "Regular password expiry for standard users (developers: 90 days)",
    "Service accounts should never expire (99999 days)",
    "Always test with a single user first",
    "Document role purposes in the description field"
  ],
  
  "_common_groups": {
    "sudo/wheel": "Administrative access (full system control)",
    "developers": "Development team members",
    "deploy": "Can deploy applications",
    "docker": "Can use Docker containers",
    "git": "Can access Git repositories",
    "testers/qa": "Quality assurance team",
    "viewers": "Read-only monitoring access",
    "services": "Service accounts for applications"
  }
}